<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.onmakers.tdms.module.equipment.mapper.ResultMapper">

    <select id="selectResultList" parameterType="SearchEquipment" resultType="Result">
        SELECT
        TM.REQ_NO,
        TM.REQ_DATETIME,
        TM.TEST_TYPE_CD,
        TM.TEST_CD,
        TM.EQUIP_CD,
        TM.CUST_CD,
        TM.COMP_YN,
        TM.TEST_GRP_CD,
        TM.TEST_FROM_DATETIME,
        TM.TEST_TO_DATETIME,
        TM.SAMPLE_NM,
        TM.KATECH_REQ_NO,
        TM.REQ_ORG_CD,
        TM.OPERATOR_ID,
        TM.ANALYSIS_ID,
        TM.TEST_STATUS_CD,
        TM.IS_VALID_YN,
        TM.IS_VIEW_YN,
        TM.REG_ID,
        TM.REG_DT,
        TM.UPT_ID,
        TM.UPT_DT,
        TM.CUST_NM,
        TM.CUST_TYPE1_CD,
        TM.CUST_TYPE2_CD,
        TM.REV,
        TM.TEST_TYPE_CD_NM,
        TM.TEST_CD_NM,
        TM.EQUIP_CD_NM,
        TM.TEST_GRP_CD_NM,
        TM.TEST_STATUS_CD_NM,
        TM.CUST_TYPE1_CD_NM,
        TM.CUST_TYPE2_CD_NM,
        TM.DATA_SEND_YN
        FROM (
            SELECT
                  T1.REQ_NO
                , T1.REQ_DATETIME
                , T1.TEST_TYPE_CD
                , T1.TEST_CD
                , T1.EQUIP_CD
                , T1.CUST_CD
                , T1.COMP_YN
                , T1.TEST_GRP_CD
                , T1.TEST_FROM_DATETIME
                , T1.TEST_TO_DATETIME
                , T1.SAMPLE_NM
                , T1.KATECH_REQ_NO
                , T1.REQ_ORG_CD
                , T1.OPERATOR_ID
                , T1.ANALYSIS_ID
                , T1.TEST_STATUS_CD
                , T1.IS_VALID_YN
                , T1.IS_VIEW_YN
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.CUST_NM
                , T2.CUST_TYPE1_CD
                , T2.CUST_TYPE2_CD
                , T3.REV
                , FN_GET_CODE_NM('TESTTYPECD', T1.TEST_TYPE_CD) TEST_TYPE_CD_NM
                , FN_GET_CODE_NM('TESTCD', T1.TEST_CD) TEST_CD_NM
                , FN_GET_CODE_NM('EQUIPCD', T1.EQUIP_CD) EQUIP_CD_NM
                , FN_GET_CODE_NM('TESTGRPCD', T1.TEST_GRP_CD) TEST_GRP_CD_NM
                , FN_GET_CODE_NM('TESTSTATUSCD', T1.TEST_STATUS_CD) TEST_STATUS_CD_NM
                , FN_GET_CODE_NM('CUSTTYPE1CD', T2.CUST_TYPE1_CD) CUST_TYPE1_CD_NM
                , FN_GET_CODE_NM('CUSTTYPE2CD', T2.CUST_TYPE2_CD) CUST_TYPE2_CD_NM
                , (SELECT IF(COUNT(*) = 0, 'N', 'Y') FROM TDT_REPORT_INFO ST1 WHERE ST1.REQ_NO = T1.REQ_NO AND ST1.REV = T3.REV AND ST1.DATA_SEND_YN = 'Y') DATA_SEND_YN
                , (SELECT
                      COUNT(ST1.FILE_SEQ)
                   FROM TDT_RESULT_OUTFILE_INFO ST1
                   WHERE ST1.REQ_NO = T1.REQ_NO AND ST1.REV = T3.REV AND (ST1.FILE_TYPE_CD = 'KMRK' OR ST1.FILE_TYPE_CD = 'EMRK' OR ST1.FILE_TYPE_CD = 'KRPT' OR ST1.FILE_TYPE_CD = 'ERPT')) REPORT_WRITE_CNT
            FROM TDT_TEST_REQ_INFO T1
            LEFT JOIN MST_CUSTOMER T2 ON T1.CUST_CD = T2.CUST_CD
            INNER JOIN TDT_TEST_REQ_REV_INFO T3 ON T1.REQ_NO = T3.REQ_NO
            INNER JOIN IFT_JOB_TASK_INFO T4 ON T1.REQ_NO = T4.REQ_NO AND T3.REV = T4.REV
            WHERE T1.IS_VALID_YN = 'Y' AND T4.JOB_STATUS_CD = 'JOB50'
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                AND T1.REQ_NO = #{searchReqNo}
            </if>
            <if test="searchRev != null">
                AND T3.REV = #{searchRev}
            </if>
            <if test="searchTestCd != null">
                AND T1.TEST_CD = #{searchTestCd}
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchCustType1)">
                AND T2.CUST_TYPE1_CD = #{searchCustType1}
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTestType)">
                AND T1.TEST_TYPE_CD = #{searchTestType}
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTestGroup)">
                AND T1.TEST_GRP_CD = #{searchTestGroup}
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchStartDt)">
                AND T1.REQ_DATETIME >= REPLACE(#{searchStartDt}, '-', '')
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchEndDt)">
                AND T1.REQ_DATETIME &lt;= REPLACE(#{searchEndDt}, '-', '')
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchText)">
                AND LOWER(T1.SAMPLE_NM) LIKE CONCAT('%', LOWER(#{searchText}), '%')
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqText)">
                AND LOWER(T1.REQ_NO) LIKE CONCAT('%', LOWER(#{searchReqText}), '%')
            </if>
            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchStatus)">
                AND T1.TEST_STATUS_CD = #{searchStatus}
            </if>
        ) TM
        WHERE 1=1
        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReportYn)">
              <choose>
                  <when test='"Y".equals(searchReportYn)'>
                      AND TM.REPORT_WRITE_CNT > 0
                  </when>
                  <when test='"N".equals(searchReportYn)'>
                      AND TM.REPORT_WRITE_CNT = 0
                  </when>
              </choose>
        </if>
        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchMarketSendYn)">
            AND TM.DATA_SEND_YN  = #{searchMarketSendYn}
        </if>
        ORDER BY TM.REQ_NO DESC, TM.REV
    </select>

    <select id="selectResult" parameterType="SearchEquipment" resultType="Result">
        SELECT
            T1.REQ_NO
                , T1.REQ_DATETIME
                , T1.TEST_TYPE_CD
                , T1.TEST_CD
                , T1.EQUIP_CD
                , T1.CUST_CD
                , T1.COMP_YN
                , T1.TEST_GRP_CD
                , T1.TEST_FROM_DATETIME
                , T1.TEST_TO_DATETIME
                , T1.SAMPLE_NM
                , T1.KATECH_REQ_NO
                , T1.REQ_ORG_CD
                , T1.OPERATOR_ID
                , T1.ANALYSIS_ID
                , T1.TEST_STATUS_CD
                , T1.IS_VALID_YN
                , T1.IS_VIEW_YN
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.CUST_NM
                , T2.CUST_TYPE1_CD
                , T2.CUST_TYPE2_CD
                , T3.REV
                , T4.FILE_TYPE_CD
                , T4.REPORT_SEQ
                , IFNULL(T4.DATA_SEND_YN, 'N') DATA_SEND_YN
                , FN_GET_CODE_NM('TESTTYPECD', T1.TEST_TYPE_CD)   TEST_TYPE_CD_NM
                , FN_GET_CODE_NM('TESTCD', T1.TEST_CD)        TEST_CD_NM
                , FN_GET_CODE_NM('EQUIPCD', T1.EQUIP_CD)       EQUIP_CD_NM
                , FN_GET_CODE_NM('TESTGRPCD', T1.TEST_GRP_CD)    TEST_GRP_CD_NM
                , FN_GET_CODE_NM('TESTSTATUSCD', T1.TEST_STATUS_CD) TEST_STATUS_CD_NM
                , FN_GET_CODE_NM('CUSTTYPE1CD', T2.CUST_TYPE1_CD)  CUST_TYPE1_CD_NM
                , FN_GET_CODE_NM('CUSTTYPE2CD', T2.CUST_TYPE2_CD)  CUST_TYPE2_CD_NM
                , FN_GET_CODE_NM('FILETYPECD', T4.FILE_TYPE_CD) FILE_TYPE_CD_NM
        FROM TDT_TEST_REQ_INFO T1
                 LEFT JOIN  MST_CUSTOMER T2 ON T1.CUST_CD = T2.CUST_CD
                 LEFT OUTER JOIN TDT_TEST_REQ_REV_INFO T3 ON T1.REQ_NO = T3.REQ_NO
                 LEFT OUTER JOIN TDT_REPORT_INFO T4 ON T3.REQ_NO = T4.REQ_NO AND T3.REV = T4.REV
        WHERE T1.REQ_NO = #{searchReqNo}
    </select>



    <select id="selectHeaderInterfaceDataWithRequest" parameterType="SearchEquipment" resultType="HeaderInterfaceData">
        SELECT
            DISTINCT
                  T1.REQ_NO
                , T1.REQ_DATETIME
                , T2.REV
        FROM TDT_TEST_REQ_INFO T1
        LEFT OUTER JOIN TDT_RESULT_HD T2
            ON T1.REQ_NO = T2.REQ_NO
        WHERE 1=1
        <if test="searchTestCd != null">
            AND T1.TEST_CD = #{searchTestCd}
        </if>
    </select>

    <select id="selectDetailDataTypeAList" parameterType="SearchEquipment" resultType="DetailDataTypeA">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                SELECT
                  T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                , T1.LOAD_SPEED
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_DAM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
        </choose>
    </select>

    <select id="selectDetailDataTypeBList" parameterType="SearchEquipment" resultType="DetailDataTypeB">
        <choose>
            <when test="searchTestCd.toString() eq 'T0201'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA04 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA05 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_EPT01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_CHS01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_CHS02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_ENG01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_WT01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_TM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_PP01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_PP02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_DR01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1= 1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchType) and searchType eq 'grid'">
                    AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T1.CHANNEL_KEY = #{searchChannelKey}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
            </when>
        </choose>
    </select>

    <select id="selectTestDataParameterList" parameterType="SearchEquipment" resultType="Parameter">
        SELECT
                 T1.REQ_NO
               , T1.REV
               , T1.MAP_TYPE_CD
               , T1.TEST_CD
               , T1.SOURCE_CD
               , T1.TARGET_CD
               , T1.MAP_DESC
               , T1.MAP_STATUS
               , T1.IS_VALID_YN
               , T2.STD_CD
               , T2.STD_NM
               , T2.STD_DESC
               , T3.PARAM_KEY
               , T3.PARAM_VAL
               , T3.DECIMAL_POINT
               , T3.DECIMAL_POINT_TYPE
               , T3.REC_TIME_DECIMAL_POINT
               , T3.REC_TIME_DECIMAL_POINT_TYPE
               , T3.RECOVERY_YN
               , T3.CONVERT_UNIT
               , FN_GET_CODE_NM('STATUS', T1.MAP_STATUS) MAP_STATUS_NM
               , T3.EXPONENTIAL_NOTATION_YN
        FROM MTA_STD_CODE_TRANS_MAPPING T1
        LEFT OUTER JOIN MST_STD_CODE T2 ON T2.STD_CD = T1.TARGET_CD
        LEFT OUTER JOIN TDT_RESULT_HD T3 ON T3.PARAM_VAL = T1.SOURCE_CD AND T3.REQ_NO = T1.REQ_NO AND T3.REV = T1.REV
        WHERE T1.REQ_NO = #{searchReqNo}
          AND T1.TEST_CD = #{searchTestCd}
          AND T1.REV = #{searchRev}
          AND T1.MAP_TYPE_CD = #{searchMapTypeCd}

    </select>

    <select id="selectTestHeaderParameterList" parameterType="SearchEquipment" resultType="Parameter">
        SELECT
                 T1.REQ_NO
               , T1.REV
               , T1.MAP_TYPE_CD
               , T1.TEST_CD
               , T1.SOURCE_CD
               , T1.TARGET_CD
               , T1.MAP_DESC
               , T1.MAP_STATUS
               , T1.IS_VALID_YN
               , T2.STD_CD
               , T2.STD_NM
               , T2.STD_DESC
               , T3.PARAM_KEY
               , T3.PARAM_VAL
                , T3.DECIMAL_POINT
                , T3.DECIMAL_POINT_TYPE
        , T3.REC_TIME_DECIMAL_POINT
        , T3.REC_TIME_DECIMAL_POINT_TYPE
                , T3.RECOVERY_YN
               , FN_GET_CODE_NM('STATUS', T1.MAP_STATUS) MAP_STATUS_NM
               , T3.EXPONENTIAL_NOTATION_YN
        FROM MTA_STD_CODE_TRANS_MAPPING T1
        LEFT OUTER JOIN MST_STD_CODE T2 ON T2.STD_CD = T1.TARGET_CD
        LEFT OUTER JOIN TDT_RESULT_HD T3 ON T3.PARAM_KEY = T1.SOURCE_CD AND T3.REQ_NO = T1.REQ_NO AND T3.REV = T1.REV
        WHERE T1.REQ_NO = #{searchReqNo}
          AND T1.TEST_CD = #{searchTestCd}
          AND T1.REV = #{searchRev}
            <choose>
                <when test="searchMapTypeCd eq 'KEYWORD_UNIT'">
                    AND T1.MAP_TYPE_CD = 'KEYWORD'
                </when>
                <otherwise>
                    AND T1.MAP_TYPE_CD = #{searchMapTypeCd}
                </otherwise>
            </choose>

          <choose>
              <when test="searchMapTypeCd eq 'KEYWORD'">
                  AND T1.SOURCE_CD NOT LIKE 'UNITS.%'
              </when>
              <when test="searchMapTypeCd eq 'KEYWORD_UNIT'">
                  AND T1.SOURCE_CD LIKE 'UNITS.%'
              </when>
          </choose>
        ORDER BY CAST(SUBSTR(SOURCE_CD, INSTR(SOURCE_CD, '_')+1) AS SIGNED)
    </select>

    <select id="selectResultRevList" parameterType="SearchEquipment" resultType="ResultRev">
        SELECT
              T1.REQ_NO
            , T2.REV
            , T1.TEST_CD
            , T1.REQ_DATETIME
        FROM TDT_TEST_REQ_INFO T1
        LEFT JOIN TDT_TEST_REQ_REV_INFO T2 ON T1.REQ_NO = T2.REQ_NO
        WHERE T1.IS_VALID_YN = 'Y'
        <if test="!isAdminRole">
            AND (T1.IS_PRIVATE_YN = 'N' OR (T1.IS_PRIVATE_YN = 'Y' AND (T1.REG_ID = #{memberId} OR T1.ANALYSIS_ID = #{memberId} OR T1.OPERATOR_ID = #{memberId})))
        </if>
        <if test="searchTestCd != null">
            AND T1.TEST_CD = #{searchTestCd}
        </if>
        <if test="@org.apache.commons.lang3.StringUtils@isEmpty(searchViewType)">
            AND T1.REQ_NO IN (SELECT ST1.REQ_NO FROM IFT_JOB_TASK_INFO ST1 WHERE ST1.JOB_STATUS_CD = 'JOB50' AND T2.REQ_NO = ST1.REQ_NO AND ST1.REV = T2.REV)
        </if>
    </select>

    <select id="selectResultHeaderMappingList" parameterType="SearchEquipment" resultType="Parameter">
        SELECT
              T1.REQ_NO
            , T1.REV
            , T1.PARAM_KEY
            , T1.PARAM_VAL
            , T1.STD_PARAM_KEY
            , T1.STD_PARAM_VAL
            , T1.IS_ADD_YN
            , T1.RESULT_FORMULA_SEQ
            , T2.MAP_TYPE_CD
            , T2.TEST_CD
            , T2.SOURCE_CD
            , T2.TARGET_CD
            , T3.STD_CD
            , T3.STD_NM
            , T1.EXPONENTIAL_NOTATION_YN
            <choose>
                <when test="searchViewType eq 'result'">
                    , (SELECT IFNULL(ST3.STD_NM, '')
                    FROM MTA_STD_CODE_TRANS_MAPPING ST1
                    LEFT JOIN TDT_RESULT_HD ST2
                    ON ST1.REQ_NO = ST2.REQ_NO AND ST1.REV = ST2.REV
                    LEFT JOIN MST_STD_CODE ST3
                    ON ST3.STD_CD = ST1.TARGET_CD AND ST3.CODE_GRP = 'UNIT'
                    WHERE ST1.REQ_NO = T1.REQ_NO
                    AND ST1.REV = T1.REV
                    AND ST1.SOURCE_CD = ST2.PARAM_VAL
                    AND ST1.MAP_TYPE_CD = 'UNIT'
                    AND ST2.PARAM_KEY = REPLACE(T1.PARAM_KEY, 'DESC.', 'UNITS.')) UNIT
                </when>
                <otherwise>
                    , (SELECT IF(ST2.CONVERT_UNIT IS NOT NULL, ST2.CONVERT_UNIT, IFNULL(ST3.STD_NM, ''))
                    FROM MTA_STD_CODE_TRANS_MAPPING ST1
                    LEFT JOIN TDT_RESULT_HD ST2
                    ON ST1.REQ_NO = ST2.REQ_NO AND ST1.REV = ST2.REV
                    LEFT JOIN MST_STD_CODE ST3
                    ON ST3.STD_CD = ST1.TARGET_CD AND ST3.CODE_GRP = 'UNIT'
                    WHERE ST1.REQ_NO = T1.REQ_NO
                    AND ST1.REV = T1.REV
                    AND ST1.SOURCE_CD = ST2.PARAM_VAL
                    AND ST1.MAP_TYPE_CD = 'UNIT'
                    AND ST2.PARAM_KEY = REPLACE(T1.PARAM_KEY, 'DESC.', 'UNITS.')) UNIT
                </otherwise>
            </choose>
        FROM TDT_RESULT_HD T1
                 LEFT JOIN MTA_STD_CODE_TRANS_MAPPING T2 ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.PARAM_VAL = T2.SOURCE_CD
                 LEFT JOIN MST_STD_CODE T3 ON T2.TARGET_CD = T3.STD_CD
        WHERE T1.REQ_NO = #{searchReqNo}
          AND T2.TEST_CD = #{searchTestCd}
          AND T1.REV = #{searchRev}
          AND T2.MAP_TYPE_CD = 'VALUE'
          AND T3.CODE_GRP = 'VALUE'
        <if test="searchViewType != 'result'">
            AND T2.IS_VALID_YN = 'Y'
        </if>
        ORDER BY T1.PARAM_KEY
    </select>


    <select id="selectDetailDataLastGrpSeq" parameterType="SearchEquipment" resultType="Integer">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_DAM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_LA01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_LA02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_LA03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_LA04 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_LA05 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_EPT01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_BM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_BM02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_BM03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_CHS01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_CHS02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_ENG01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_WT01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_TM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_SMG01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_SMG02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_SMG03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_PP01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_PP02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                SELECT
                T1.GRP_SEQ
                FROM TDT_RESULT_DTL_DR01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                ORDER BY T1.GRP_SEQ DESC
                LIMIT 1
            </when>
        </choose>
    </select>

    <update id="updateHeaderUnitChange" parameterType="ResultUnitChange">
        UPDATE TDT_RESULT_HD SET
              DECIMAL_POINT = #{decimalPoint}
            , DECIMAL_POINT_TYPE = #{decimalPointType}
            , REC_TIME_DECIMAL_POINT = #{recTimeDecimalPoint}
            , REC_TIME_DECIMAL_POINT_TYPE = #{recTimeDecimalPointType}
            , RECOVERY_YN = #{recoveryYn}
            , CONVERT_UNIT = #{convertUnit}
            , EXPONENTIAL_NOTATION_YN = #{exponentialNotationYn}
        WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND PARAM_KEY = #{paramKey}
    </update>

    <select id="selectDetailDataTypeASearchList" parameterType="SearchEquipment" resultType="DetailDataTypeA">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                , T1.LOAD_SPEED
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                , T4.PARAM_VAL
                FROM TDT_RESULT_DTL_DAM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_DAM01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedFromValue)">
                            AND ST1.LOAD_SPEED >= #{searchLoadSpeedFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedToValue)">
                            AND ST1.LOAD_SPEED &lt;= #{searchLoadSpeedToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
        </choose>
    </select>

    <select id="selectDetailDataTypeBSearchList" parameterType="SearchEquipment" resultType="DetailDataTypeB">
        <choose>
            <when test="searchTestCd.toString() eq 'T0201'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_LA01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_LA02 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_LA03 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA04 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_LA04 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_LA05 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_LA05 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_EPT01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_EPT01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_BM01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_BM02 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_BM03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_BM03 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_CHS01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_CHS01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_CHS02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_CHS02 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_ENG01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_ENG01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_WT01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_WT01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_TM01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_TM01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_SMG01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_SMG02 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_SMG03 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_SMG03 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_PP01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_PP01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_PP02 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_PP02 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                SELECT
                T1.REQ_NO
                , T1.REV
                , T1.GRP_SEQ
                , T1.CHANNEL_KEY
                <choose>
                    <when test='searchViewType eq "result"'>
                        , T1.REC_TIME
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(T1.REC_TIME, T3.REC_TIME_DECIMAL_POINT, T3.REC_TIME_DECIMAL_POINT_TYPE, T3.RECOVERY_YN) REC_TIME
                    </otherwise>
                </choose>
                <choose>
                    <when test="searchViewType eq 'result'">
                        , T1.CHANNEL_VAL_ORG CHANNEL_VAL
                    </when>
                    <otherwise>
                        , FN_GET_VALUE_CUTTING(FN_GET_UNIT_CONVERT(T4.PARAM_VAL, T1.CHANNEL_VAL, T3.CONVERT_UNIT), T3.DECIMAL_POINT, T3.DECIMAL_POINT_TYPE, T3.RECOVERY_YN) CHANNEL_VAL
                    </otherwise>
                </choose>
                , T1.CHANNEL_VAL_ORG
                , T1.REG_ID
                , T1.REG_DT
                , T1.UPT_ID
                , T1.UPT_DT
                , T2.TARGET_CD
                , T3.PARAM_KEY
                FROM TDT_RESULT_DTL_DR01 T1
                RIGHT JOIN MTA_STD_CODE_TRANS_MAPPING T2
                ON T2.REQ_NO = T1.REQ_NO AND T2.REV = T1.REV AND T1.CHANNEL_KEY = T2.SOURCE_CD
                AND T2.MAP_TYPE_CD = 'VALUE' AND T2.TEST_CD = #{searchTestCd} AND T2.MAP_STATUS = 'CON'
                LEFT JOIN TDT_RESULT_HD T3 ON T1.REQ_NO = T3.REQ_NO AND T1.REV = T3.REV AND T2.SOURCE_CD = T3.PARAM_VAL
                LEFT JOIN TDT_RESULT_HD T4 ON T1.REQ_NO = T4.REQ_NO AND T1.REV = T4.REV AND T4.PARAM_KEY = REPLACE(T3.PARAM_KEY, 'DESC.', 'UNITS.')
                WHERE 1=1
                <if test="searchViewType != 'result'">
                    AND T1.IS_VALID_YN = 'Y'
                    AND T2.IS_VALID_YN = 'Y'
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchTargetCd)">
                    AND T2.TARGET_CD = #{searchTargetCd}
                </if>
                <if test="searchTargetCdList != null">
                    AND T2.TARGET_CD IN
                    <foreach item="item" collection="searchTargetCdList" open="(" close=")" separator=",">
                        #{item}
                    </foreach>
                </if>
                <choose>
                    <when test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                        AND T1.GRP_SEQ IN (
                        SELECT GRP_SEQ FROM (
                        SELECT
                        ST1.GRP_SEQ,
                        @rownum:=@rownum+1 ROWNUM
                        FROM TDT_RESULT_DTL_DR01 ST1, ( SELECT @rownum := 0 ) R
                        WHERE ST1.IS_VALID_YN = 'Y'
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                            AND ST1.REQ_NO = #{searchReqNo}
                        </if>
                        <if test="searchRev != null">
                            AND ST1.REV = #{searchRev}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                            AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                            AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                        </if>
                        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                            AND ST1.CHANNEL_KEY = #{searchChannelKey}
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                                AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                            </if>
                            <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                                AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                            </if>
                        </if>
                        ) ST1
                        WHERE ROWNUM > #{pageNum} AND ROWNUM &lt;= #{pageNum} + #{pageSize}
                        )
                    </when>
                    <otherwise>
                        AND T1.GRP_SEQ > #{pageNum} AND T1.GRP_SEQ &lt;= #{pageNum} + #{pageSize}
                    </otherwise>
                </choose>
                ORDER BY GRP_SEQ
            </when>
        </choose>

    </select>

    <select id="selectDetailDataSearchListCount" parameterType="SearchEquipment" resultType="Integer">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_DAM01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedFromValue)">
                    AND ST1.LOAD_SPEED >= #{searchLoadSpeedFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedToValue)">
                    AND ST1.LOAD_SPEED &lt;= #{searchLoadSpeedToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_LA01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_LA02 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_LA03 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_LA04 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_LA05 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_EPT01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_BM01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_BM02 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_BM03 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_CHS01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_CHS02 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_ENG01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_WT01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_TM01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_SMG01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_SMG02 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_SMG03 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_PP01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_PP02 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                SELECT
                COUNT(DISTINCT (GRP_SEQ))
                FROM TDT_RESULT_DTL_DR01 ST1, ( SELECT @rownum := 0 ) R
                WHERE ST1.IS_VALID_YN = 'Y'
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND ST1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND ST1.REV = #{searchRev}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND ST1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND ST1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND ST1.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND ST1.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND ST1.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
        </choose>
    </select>

    <update id="updateDetailDataValue" parameterType="SearchEquipment">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                UPDATE TDT_RESULT_DTL_DAM01 T1
                SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedFromValue)">
                    AND LOAD_SPEED >= #{searchLoadSpeedFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedToValue)">
                    AND LOAD_SPEED &lt;= #{searchLoadSpeedToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                UPDATE TDT_RESULT_DTL_LA01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                UPDATE TDT_RESULT_DTL_LA02 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                UPDATE TDT_RESULT_DTL_LA03 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                UPDATE TDT_RESULT_DTL_LA04 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                UPDATE TDT_RESULT_DTL_LA05 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                UPDATE TDT_RESULT_DTL_EPT01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                UPDATE TDT_RESULT_DTL_BM01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                UPDATE TDT_RESULT_DTL_BM02 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                UPDATE TDT_RESULT_DTL_BM03 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                UPDATE TDT_RESULT_DTL_CHS01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                UPDATE TDT_RESULT_DTL_CHS02 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                UPDATE TDT_RESULT_DTL_ENG01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                UPDATE TDT_RESULT_DTL_WT01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                UPDATE TDT_RESULT_DTL_TM01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                UPDATE TDT_RESULT_DTL_SMG01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                UPDATE TDT_RESULT_DTL_SMG02 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                UPDATE TDT_RESULT_DTL_SMG03 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                UPDATE TDT_RESULT_DTL_PP01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                UPDATE TDT_RESULT_DTL_PP02 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                UPDATE TDT_RESULT_DTL_DR01 SET CHANNEL_VAL = #{searchChangeValue}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
        </choose>
    </update>

    <update id="updateDetailDataValueReset" parameterType="SearchEquipment">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                UPDATE TDT_RESULT_DTL_DAM01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                UPDATE TDT_RESULT_DTL_LA01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                UPDATE TDT_RESULT_DTL_LA02
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                UPDATE TDT_RESULT_DTL_LA03
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                UPDATE TDT_RESULT_DTL_LA04
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                UPDATE TDT_RESULT_DTL_LA05
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                UPDATE TDT_RESULT_DTL_EPT01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                UPDATE TDT_RESULT_DTL_BM01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                UPDATE TDT_RESULT_DTL_BM02
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                UPDATE TDT_RESULT_DTL_BM03
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                UPDATE TDT_RESULT_DTL_CHS01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                UPDATE TDT_RESULT_DTL_CHS02
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                UPDATE TDT_RESULT_DTL_ENG01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                UPDATE TDT_RESULT_DTL_WT01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                UPDATE TDT_RESULT_DTL_TM01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                UPDATE TDT_RESULT_DTL_SMG01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                UPDATE TDT_RESULT_DTL_SMG02
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                UPDATE TDT_RESULT_DTL_SMG03
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                UPDATE TDT_RESULT_DTL_PP01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                UPDATE TDT_RESULT_DTL_PP02
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                UPDATE TDT_RESULT_DTL_DR01
                SET CHANNEL_VAL = CHANNEL_VAL_ORG, IS_VALID_YN = 'Y'
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev}
            </when>
        </choose>
    </update>

    <select id="selectResultHeaderLastParamKeyNumber" parameterType="SearchEquipment" resultType="Integer">
        SELECT
            MAX(CAST(SUBSTR(T1.PARAM_KEY, INSTR(T1.PARAM_KEY, '_') + 1) AS INTEGER)) + 1
        FROM TDT_RESULT_HD T1
        WHERE T1.REQ_NO = #{searchReqNo} AND T1.REV = #{searchRev} AND T1.PARAM_KEY LIKE 'DESC.%'
    </select>

    <insert id="insertResultHeader" parameterType="Parameter">
        INSERT INTO TDT_RESULT_HD (
              REQ_NO
            , REV
            , PARAM_KEY
            , PARAM_VAL
            , STD_PARAM_KEY
            , STD_PARAM_VAL
            , IS_ADD_YN
            , IS_VALID_YN
            , REG_ID
            , REG_DT
            , RESULT_FORMULA_SEQ
            , EXPONENTIAL_NOTATION_YN
        ) VALUES (
              #{reqNo}
            , #{rev}
            , #{paramKey}
            , #{paramVal}
            , #{paramKey}
            , #{paramVal}
            , #{isAddYn}
            , 'Y'
            , #{regId}
            , NOW()
            , #{resultFormulaSeq}
            , #{exponentialNotationYn}
        )
    </insert>

    <update id="updateDetailDataIsValid" parameterType="SearchEquipment">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                UPDATE TDT_RESULT_DTL_DAM01 T1
                LEFT JOIN TDT_RESULT_DTL_DAM01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedFromValue)">
                    AND T1.LOAD_SPEED >= #{searchLoadSpeedFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchLoadSpeedToValue)">
                    AND T1.LOAD_SPEED &lt;= #{searchLoadSpeedToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                UPDATE TDT_RESULT_DTL_LA01 T1
                LEFT JOIN TDT_RESULT_DTL_LA01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                UPDATE TDT_RESULT_DTL_LA02 T1
                LEFT JOIN TDT_RESULT_DTL_LA02 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                UPDATE TDT_RESULT_DTL_LA03 T1
                LEFT JOIN TDT_RESULT_DTL_LA03 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                UPDATE TDT_RESULT_DTL_LA04 T1
                LEFT JOIN TDT_RESULT_DTL_LA04 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                UPDATE TDT_RESULT_DTL_LA05 T1
                LEFT JOIN TDT_RESULT_DTL_LA05 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                UPDATE TDT_RESULT_DTL_EPT01 T1
                LEFT JOIN TDT_RESULT_DTL_EPT01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                UPDATE TDT_RESULT_DTL_BM01 T1
                LEFT JOIN TDT_RESULT_DTL_BM01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                UPDATE TDT_RESULT_DTL_BM02 T1
                LEFT JOIN TDT_RESULT_DTL_BM02 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                UPDATE TDT_RESULT_DTL_BM03 T1
                LEFT JOIN TDT_RESULT_DTL_BM03 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                UPDATE TDT_RESULT_DTL_CHS01 T1
                LEFT JOIN TDT_RESULT_DTL_CHS01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                UPDATE TDT_RESULT_DTL_CHS02 T1
                LEFT JOIN TDT_RESULT_DTL_CHS02 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                UPDATE TDT_RESULT_DTL_ENG01 T1
                LEFT JOIN TDT_RESULT_DTL_ENG01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                UPDATE TDT_RESULT_DTL_WT01 T1
                LEFT JOIN TDT_RESULT_DTL_WT01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                UPDATE TDT_RESULT_DTL_TM01 T1
                LEFT JOIN TDT_RESULT_DTL_TM01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                UPDATE TDT_RESULT_DTL_SMG01 T1
                LEFT JOIN TDT_RESULT_DTL_SMG01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                UPDATE TDT_RESULT_DTL_SMG02 T1
                LEFT JOIN TDT_RESULT_DTL_SMG02 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                UPDATE TDT_RESULT_DTL_SMG03 T1
                LEFT JOIN TDT_RESULT_DTL_SMG03 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                UPDATE TDT_RESULT_DTL_PP01 T1
                LEFT JOIN TDT_RESULT_DTL_PP01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                UPDATE TDT_RESULT_DTL_PP02 T1
                LEFT JOIN TDT_RESULT_DTL_PP02 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                UPDATE TDT_RESULT_DTL_DR01 T1
                LEFT JOIN TDT_RESULT_DTL_DR01 T2
                ON T1.REQ_NO = T2.REQ_NO AND T1.REV = T2.REV AND T1.GRP_SEQ = T2.GRP_SEQ
                SET T1.IS_VALID_YN = #{searchUseYn}
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                <if test="searchGrpSeq != null">
                    AND T1.GRP_SEQ = #{searchGrpSeq}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeFromValue)">
                    AND T1.REC_TIME >= #{searchRecTimeFromValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchRecTimeToValue)">
                    AND T1.REC_TIME &lt;= #{searchRecTimeToValue}
                </if>
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKey)">
                    AND T2.CHANNEL_KEY = #{searchChannelKey}
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyFromValue)">
                        AND T2.CHANNEL_VAL >= #{searchChannelKeyFromValue}
                    </if>
                    <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchChannelKeyToValue)">
                        AND T2.CHANNEL_VAL &lt;= #{searchChannelKeyToValue}
                    </if>
                </if>
            </when>
        </choose>
    </update>

    <select id="selectMaxRecTimeInGrpSeqList" parameterType="SearchEquipment" resultType="DetailDataAll">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                SELECT
                GRP_SEQ
                , LOAD_SPEED
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_DAM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY LOAD_SPEED, GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_LA01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_LA02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_LA03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_LA04 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_LA05 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_EPT01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_BM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_BM02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_BM03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_CHS01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_CHS02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_ENG01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_WT01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_TM01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_SMG01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_SMG02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_SMG03 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_PP01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_PP02 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                SELECT
                GRP_SEQ
                , MAX(REC_TIME) REC_TIME
                FROM TDT_RESULT_DTL_DR01 T1
                WHERE 1=1
                <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
                    AND T1.REQ_NO = #{searchReqNo}
                </if>
                <if test="searchRev != null">
                    AND T1.REV = #{searchRev}
                </if>
                GROUP BY GRP_SEQ
            </when>
        </choose>
    </select>


    <insert id="insertDetailData" parameterType="DetailDataAll">
        <choose>
            <when test="testCd.toString() eq 'T0101'">
                INSERT INTO TDT_RESULT_DTL_DAM01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , LOAD_SPEED
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{loadSpeed}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0201'">
                INSERT INTO TDT_RESULT_DTL_LA01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0202'">
                INSERT INTO TDT_RESULT_DTL_LA02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0203'">
                INSERT INTO TDT_RESULT_DTL_LA03 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0204'">
                INSERT INTO TDT_RESULT_DTL_LA04 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0205'">
                INSERT INTO TDT_RESULT_DTL_LA05 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0301'">
                INSERT INTO TDT_RESULT_DTL_EPT01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0401'">
                INSERT INTO TDT_RESULT_DTL_BM01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0402'">
                INSERT INTO TDT_RESULT_DTL_BM02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0403'">
                INSERT INTO TDT_RESULT_DTL_BM02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0501'">
                INSERT INTO TDT_RESULT_DTL_CHS01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0502'">
                INSERT INTO TDT_RESULT_DTL_CHS02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0601'">
                INSERT INTO TDT_RESULT_DTL_ENG01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0701'">
                INSERT INTO TDT_RESULT_DTL_WT01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0801'">
                INSERT INTO TDT_RESULT_DTL_TM01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0901'">
                INSERT INTO TDT_RESULT_DTL_SMG01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0902'">
                INSERT INTO TDT_RESULT_DTL_SMG02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T0903'">
                INSERT INTO TDT_RESULT_DTL_SMG03 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T1001'">
                INSERT INTO TDT_RESULT_DTL_PP01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T1002'">
                INSERT INTO TDT_RESULT_DTL_PP02 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
            <when test="testCd.toString() eq 'T1101'">
                INSERT INTO TDT_RESULT_DTL_DR01 (
                REQ_NO
                , REV
                , GRP_SEQ
                , CHANNEL_KEY
                , REC_TIME
                , CHANNEL_VAL
                , CHANNEL_VAL_ORG
                , IS_VALID_YN
                ) VALUES (
                #{reqNo}
                , #{rev}
                , #{grpSeq}
                , #{channelKey}
                , #{recTime}
                , #{channelVal}
                , #{channelValOrg}
                , 'Y'
                )
            </when>
        </choose>
    </insert>

    <select id="selectResultHeader" parameterType="SearchEquipment" resultType="Parameter">
        SELECT
              T1.REQ_NO
            , T1.REV
            , T1.PARAM_KEY
            , T1.PARAM_VAL
            , T1.STD_PARAM_KEY
            , T1.STD_PARAM_VAL
            , T1.CONVERT_UNIT
            , T1.DECIMAL_POINT
            , T1.DECIMAL_POINT_TYPE
            , T1.REC_TIME_DECIMAL_POINT
            , T1.REC_TIME_DECIMAL_POINT_TYPE
            , T1.RECOVERY_YN
            , T1.IS_ADD_YN
            , T1.IS_VALID_YN
            , T1.IS_VIEW_YN
            , T1.REG_ID
            , T1.REG_DT
            , T1.UPT_ID
            , T1.UPT_DT
            , T1.RESULT_FORMULA_SEQ
            , T1.EXPONENTIAL_NOTATION_YN
        FROM TDT_RESULT_HD T1
        WHERE T1.REQ_NO = #{searchReqNo} AND T1.REV = #{searchRev} AND T1.PARAM_KEY = #{searchParamKey}
    </select>

    <delete id="deleteResultHeader" parameterType="SearchEquipment">
        DELETE FROM TDT_RESULT_HD
        WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND PARAM_KEY = #{searchParamKey}
    </delete>

    <delete id="deleteDetailDataByChannelKey" parameterType="SearchEquipment">
        <choose>
            <when test="searchTestCd.toString() eq 'T0101'">
                DELETE FROM TDT_RESULT_DTL_DAM01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0201'">
                DELETE FROM TDT_RESULT_DTL_LA01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0202'">
                DELETE FROM TDT_RESULT_DTL_LA02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0203'">
                DELETE FROM TDT_RESULT_DTL_LA03
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0204'">
                DELETE FROM TDT_RESULT_DTL_LA04
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0205'">
                DELETE FROM TDT_RESULT_DTL_LA05
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0301'">
                DELETE FROM TDT_RESULT_DTL_EPT01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0401'">
                DELETE FROM TDT_RESULT_DTL_BM01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0402'">
                DELETE FROM TDT_RESULT_DTL_BM02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0403'">
                DELETE FROM TDT_RESULT_DTL_BM02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0501'">
                DELETE FROM TDT_RESULT_DTL_CHS01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0502'">
                DELETE FROM TDT_RESULT_DTL_CHS02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0601'">
                DELETE FROM TDT_RESULT_DTL_ENG01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0701'">
                DELETE FROM TDT_RESULT_DTL_WT01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0801'">
                DELETE FROM TDT_RESULT_DTL_TM01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0901'">
                DELETE FROM TDT_RESULT_DTL_SMG01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0902'">
                DELETE FROM TDT_RESULT_DTL_SMG02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T0903'">
                DELETE FROM TDT_RESULT_DTL_SMG03
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T1001'">
                DELETE FROM TDT_RESULT_DTL_PP01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T1002'">
                DELETE FROM TDT_RESULT_DTL_PP02
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
            <when test="searchTestCd.toString() eq 'T1101'">
                DELETE FROM TDT_RESULT_DTL_DR01
                WHERE REQ_NO = #{searchReqNo} AND REV = #{searchRev} AND CHANNEL_KEY = #{searchChannelKey}
            </when>
        </choose>
    </delete>

    <update id="updateDamperDetailData" parameterType="DetailDataAll">
        <choose>
            <when test="testCd.toString() eq 'T0101'">
                UPDATE TDT_RESULT_DTL_DAM01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0201'">
                UPDATE TDT_RESULT_DTL_LA01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0202'">
                UPDATE TDT_RESULT_DTL_LA02 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0203'">
                UPDATE TDT_RESULT_DTL_LA03 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0204'">
                UPDATE TDT_RESULT_DTL_LA04 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0205'">
                UPDATE TDT_RESULT_DTL_LA04 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0301'">
                UPDATE TDT_RESULT_DTL_EPT01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0401'">
                UPDATE TDT_RESULT_DTL_BM01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0402'">
                UPDATE TDT_RESULT_DTL_BM02 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0403'">
                UPDATE TDT_RESULT_DTL_BM03 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0501'">
                UPDATE TDT_RESULT_DTL_CHS01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0502'">
                UPDATE TDT_RESULT_DTL_CHS02 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0601'">
                UPDATE TDT_RESULT_DTL_ENG01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0701'">
                UPDATE TDT_RESULT_DTL_WT01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0801'">
                UPDATE TDT_RESULT_DTL_TM01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0901'">
                UPDATE TDT_RESULT_DTL_SMG01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0902'">
                UPDATE TDT_RESULT_DTL_SMG02 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T0903'">
                UPDATE TDT_RESULT_DTL_SMG03 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T1001'">
                UPDATE TDT_RESULT_DTL_PP01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T1002'">
                UPDATE TDT_RESULT_DTL_PP02 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
            <when test="testCd.toString() eq 'T1101'">
                UPDATE TDT_RESULT_DTL_DR01 SET
                CHANNEL_VAL = #{channelVal}
                WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND GRP_SEQ = #{grpSeq} AND CHANNEL_KEY = #{channelKey}
            </when>
        </choose>
    </update>

    <update id="updateResultHeader" parameterType="Parameter">
        UPDATE TDT_RESULT_HD SET
          RESULT_FORMULA_SEQ = #{resultFormulaSeq}
        WHERE REQ_NO = #{reqNo} AND REV = #{rev} AND PARAM_KEY = #{paramKey}
    </update>

    <select id="selectAnalysisPointList" parameterType="SearchEquipment" resultType="AnalysisPoint">
        SELECT
              T1.POINT_SEQ
            , T1.REQ_NO
            , T1.REV
            , T1.POINT_ORD
            , T1.X_AXIS_NM
            , T1.Y_AXIS_NM
            , T1.X_AXIS_VAL
            , T1.Y_AXIS_VAL
            , T1.REG_ID
            , T1.REG_DT
            , T1.UPT_ID
            , T1.UPT_DT
        FROM TDT_ANALYSIS_CHART_POINT T1
        WHERE 1=1
        <if test="@org.apache.commons.lang3.StringUtils@isNotEmpty(searchReqNo)">
            AND T1.REQ_NO = #{searchReqNo}
        </if>
        <if test="searchRev != null">
            AND T1.REV = #{searchRev}
        </if>
    </select>

</mapper>
